<script>const module = {}; var v = Object.defineProperty, X = Object.defineProperties, Z = Object.getOwnPropertyDescriptor, K = Object.getOwnPropertyDescriptors, ee = Object.getOwnPropertyNames, k = Object.getOwnPropertySymbols; var h = Object.prototype.hasOwnProperty, L = Object.prototype.propertyIsEnumerable; var E = (e, t, n) => t in e ? v(e, t, { enumerable: !0, configurable: !0, writable: !0, value: n }) : e[t] = n, d = (e, t) => { for (var n in t || (t = {})) h.call(t, n) && E(e, n, t[n]); if (k) for (var n of k(t)) L.call(t, n) && E(e, n, t[n]); return e }, f = (e, t) => X(e, K(t)), te = e => v(e, "__esModule", { value: !0 }), r = (e, t) => v(e, "name", { value: t, configurable: !0 }); var D = (e, t) => { var n = {}; for (var o in e) h.call(e, o) && t.indexOf(o) < 0 && (n[o] = e[o]); if (e != null && k) for (var o of k(e)) t.indexOf(o) < 0 && L.call(e, o) && (n[o] = e[o]); return n }; var ne = (e, t) => { for (var n in t) v(e, n, { get: t[n], enumerable: !0 }) }, oe = (e, t, n, o) => { if (t && typeof t == "object" || typeof t == "function") for (let a of ee(t)) !h.call(e, a) && (n || a !== "default") && v(e, a, { get: () => t[a], enumerable: !(o = Z(t, a)) || o.enumerable }); return e }; var re = (e => (t, n) => e && e.get(t) || (n = oe(te({}), t, 1), e && e.set(t, n), n))(typeof WeakMap != "undefined" ? new WeakMap : 0); var ve = {}; ne(ve, { default: () => V, loadProps: () => ge }); function H(e) { return e.reduce((t, n) => Array.isArray(n) ? t.concat(H(n)) : t.concat(n), []) } r(H, "flattenDeep"); var P = "_context", ae = r((e, t) => e.parentNode && t ? (e.parentNode.replaceChild(t, e), t) : (console.warn("could not update", e, t), e), "replaceElement"); function b(e, ...t) { let n = b.caller.caller[P]; if (n === void 0) throw new Error("Hooks needs a bound context"); if (n.i < (n.hooks || []).length) return n.hooks[n.i++](...t); let o = e(n, ...t); return n.i = n.hooks.push(o), o() } r(b, "getOrCreateHook"); function w(e, t) { let n, o = { props: t, element: n, hooks: [], render: () => { n = ae(n, a()) } }; e[P] = o; let a = r(() => (o.i = 0, e(t)), "render"); return n = a() } r(w, "createBoundComponent"); var T = "Fragment", F = r(e => e instanceof HTMLElement || !(typeof e == "object" || e == null || typeof e == "boolean"), "filterOutBooleanAndObjects"); function s(e, t, ...n) { if (typeof e == "function") return w(e, f(d({}, t), { children: n })); if (e === T) return n.filter(F); let o = document.createElement(e); if (t) { Object.assign(o, t); for (let [i, l] of Object.entries(t)) i.startsWith("on") ? o.addEventListener(i.substring(2).toLowerCase(), l, !1) : i === "dangerouslySetInnerHTML" ? o.innerHTML = l.__html || "" : i === "style" && typeof t.style != "string" ? Object.assign(o.style, t.style) : l !== !1 && o.setAttribute(i, l) } let a = H(n).filter(F); return o.append(...a), o } r(s, "h"); var C = {}, I = {}, j = { get: (e, t) => { t(null, I[e]) }, set: (e, t) => { I[e] = t } }; var se = r(e => t => (j.set(e, t), t), "setCacheValue"), M = r((e, t) => n => (C[e].map(o => o[t](n)), delete C[e], n), "runQueue"), B = r((e, t) => new Promise((n, o) => { j.get(e, (a, i) => { if (!a && i) n(i); else { let l = !C[e], c = { resolve: n, reject: o }; l ? C[e] = [c] : C[e].push(c), l && t().then(se(e)).then(M(e, "resolve")).catch(M(e, "reject")) } }) }), "cachedPromise"); function $(e) { return (t, n) => { let o = e; typeof e == "function" && (o = e()), Array.isArray(t) && (t = t[0]); let a = o && o[t]; return a ? n ? a.replace(/\{\{(.+)\}\}/gi, (i, l) => { let c = n[l.trim()]; return c !== void 0 ? c : i }) : a : t } } r($, "useTranslations"); var Q = r((e, t) => JSON.stringify(e) == JSON.stringify(t), "compareArray"); function q(e, t, n) { return b(o => { let a, i, l, c; return (y, p, { enabled: g = !0 } = {}) => (!Q(p, a) && !l && g && (l = !0, a = p, y().then(m => { i = m }).catch(m => { console.error(m), c = m }).finally(() => { l = !1, o.render() })), console.log("return", i, l), { isLoading: l, data: i, error: c }) }, e, t, n) } r(q, "useQuery"); function R(e) { return b(t => { let n = e, o = r(a => { n !== a && (n = a, t.render()) }, "updateFunction"); return () => [n, o, e] }) } r(R, "useState"); var U = { "collect.message.noSuffix.day": "H\xE4mta om ca {{ time }} dag", "openingHours.open": "\xD6ppet till {{ time }}", "openingHours.opensOn": "St\xE4ngt, \xF6ppnar {{ day }} {{ time }}", "collect.message.at.hours": "H\xE4mta om ca {{ time }} timmar fr\xE5n", "collect.message.noSuffix.days": "H\xE4mta om ca  {{ time }} dagar", "availability.deliveryDate": "Leverans {{ date }}", "availability.deliveryDateWithPrice": "Leverans {{ date }} f\xF6r {{ price }} till postnummer:", "availability.inStock": "P\xE5 lager", "availability.notAvailable": "Ej i lager", "productOptions.overlay.subtitle": "Leverans till postnummer:", addtocart: "L\xE4gg i kundvagn", homeDeliveryHeadline: "Leverans", storeDeliveryHeadline: "H\xE4mta i butik", "collect.message.noSuffix.onDate": "H\xE4mtas den {{ date }}", "availability.seeAllInCheckout": "Se alla leveransalternativ i kassan", "stores.storesNearYou": "Finns i lager i {{storesNumber}} butiker" }; function W(e, t = { bubbles: !0 }) { return n => o => { let a = new CustomEvent(e, f(d({}, t), { detail: n })); o.target && o.target.dispatchEvent(a) } } r(W, "createEventChange"); var ie = ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday", "Sunday"], le = r(e => { let t = new Date, n = e[ie[t.getDay()]], o = n.Opening.Hours, a = n.Closing.Hours, i = t.getHours(); return o > i ? `Lukket. \xC5bner kl. ${o}` : a <= i ? `Lukket. \xC5bner i morgen kl. ${o}` : `\xD6ppet, st\xE4nger kl. ${a}` }, "opensAt"), u = $(U), ce = 60 * 1e3, x = ce * 60, ue = r(e => { let t = new Date(e), n = new Date, o = t.getTime() - n.getTime(); if (o <= x * 2) return u("collect.message.at.hour", { time: 1 }); if (o < x * 4) { let a = Math.ceil(o / x); return u("collect.message.at.hours", { time: a }) } return u("collect.message.noSuffix.onDate", { date: t.toLocaleDateString() }) }, "getTime"); var de = r((e, { longitude: t, latitude: n }) => B(`store-${e}`, () => fetch(`https://ecom.knatofs.se/Masterdata/Organization/v3/MainOperatingChain/OCSEELG/NearbyStoresWithProduct/${e}/?longitude=${t}&latitude=${n}&distanceThresholdKm=200`, { mode: "no-cors" }).then(o => o.json())), "getClosestStore"), _ = W("add-to-cart"), pe = r(({ Name: e, DistanceFromOriginKilometers: t, InStock: n, PickupTime: o, Address: a, OpeningHours: i, cartItem: l } = {}) => { let { City: c, Street: y, HouseNumber: p, PostalCode: g } = a || {}; return s("div", { className: "store" }, s("div", null, s("strong", null, e), "\xA0\u2219\xA0", s("span", null, Math.round(t), " km")), s("div", null, s("span", { className: "stock " + n ? "green" : "red" }, u(n ? "availability.inStock" : "availability.notAvailable")), s("span", null, ue(o))), s("div", null, le(i)), s("span", { class: "address" }, y, " ", p, ", ", g, " ", c), s("button", { className: "addtocart", onClick: _(l) }, u("addtocart"))) }, "Store"), me = r(({ noi: e, height: t }) => { let n = []; for (var o = 0; o < e; o++)n.push(s("div", { key: `ph${o}`, className: "placeholder", style: { height: t, marginBottom: "0.625rem" } })); return s(T, null, n) }, "Placeholder"), fe = r(e => () => new Promise((t, n) => { navigator.geolocation.getCurrentPosition(o => { let { latitude: a, longitude: i } = o.coords; de(e, { latitude: a, longitude: i }).then(t) }) }), "requestLocationAndFetchStores"), ye = r(a => { var i = a, { articleNumber: e, title: t, imageurl: n } = i, o = D(i, ["articleNumber", "title", "imageurl"]); let [l, c] = R(0), { isLoading: y, data: p } = q(fe(e), ["store", l], { enabled: l == 1 && e }), { availability: g = {}, sellability: m = {} } = o || {}, N = { articleNumber: e, imageUrl: n, title: t, amount: 1 }, S = !m.buyableCollectAtStore, A = g.availableForCollectAtStoreCount || 0, { PrimaryStore: J, CloseByStores: Y } = p || {}, z = p && !y ? [J, ...Y].map(O => s(pe, f(d({ key: O.id }, O), { cartItem: N }))) : s(me, { noi: Math.min(A, 3), height: "204px" }); return s("div", null, s("div", { className: "tabs" }, s("div", { className: "btns" }, s("button", { onClick: () => c(0), className: l == 0 && "selected" }, s("span", null, u("homeDeliveryHeadline")), s("i", null)), s("button", { onClick: () => !S && c(1), className: S ? "disabled" : l == 1 && "selected" }, s("span", null, u("storeDeliveryHeadline")), !S && s("i", null, u("stores.storesNearYou", { storesNumber: A })))), s("div", null, l == 0 && s("div", { className: "tab pn" }, s("p", null, u("availability.seeAllInCheckout")), s("button", { onClick: _(N), className: "addtocart" }, u("addtocart"))), l == 1 && s("div", { className: "tab pn" }, z)))) }, "Cart"), G = ye; function V(e) { return s(G, d({}, e)) } r(V, "CartPage"); var ge = r(() => ({ articleNumber: "16694", mainOperatingChain: "OCSEELG", sellability: { buyableOnline: !0, buyableInternet: !0, buyableCollectAtStore: !0 }, marketingContent: { advertisingText: ".", disclaimer: null, badgeUrl: "" }, prices: { currency: "SEK", activePrice: 12996, activePriceExVAT: 10396.8, displaySavePrice: !1 }, availability: { availableBItemGradeCount: 0, availableForCollectAtStoreCount: 0 }, relationships: { cheapestBItem: null }, qlc: { active: !1, recaptchaRequired: !1 } }), "loadProps"); module.exports = re(ve); 0 && (module.exports = { loadProps });
</script>
<div>
	<div class="tabs" classname="tabs">
		<div class="btns" classname="btns"><button class="selected"
				classname="selected"><span>Leverans</span><i></i></button><button class="false"><span>HÃ¤mta i
					butik</span><i>Finns i lager i 0 butiker</i></button></div>
		<div>
			<div class="tab pn" classname="tab pn">
				<p>Se alla leveransalternativ i kassan</p><button class="addtocart" classname="addtocart">LÃ¤gg i
					kundvagn</button>
			</div>
		</div>
	</div>
</div>
<script>
	const props = module.exports.loadProps();
	const root = document.createElement('div');
	root.setAttribute('id', '__root');
	document.body.append(root)
	root.append(module.exports.default(props));
	document.body.dispatchEvent(new Event('ssrdone', { bubbles: true }))
</script>